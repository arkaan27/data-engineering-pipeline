name: uploading_data
conda_env: conda.yaml

entry_points:
  main:
    parameters:

      AWS_ACCESS_KEY_ID:
        description: Your AWS Access Key ID
        type: string

      AWS_SECRET_ACCESS_KEY:
        description: Your AWS Secret Access Key
        type: string

      AWS_SESSION_TOKEN:
        description: Your AWS Session Token
        type: string
        default: x

      AWS_DEFAULT_REGION:
        description: YOUR AWS Default region where the bucket is present
        type: string

      bucket_name:
        description: The name of the bucket for data to be uploaded
        type: string

      bucket_prefix:
        description: The name of the prefix in the bucket for data to be uploaded
        type: string

      dataset_path:
        description: The path to the directory of the data to be uploaded
        type: string

    command: >-
        python run.py --AWS_ACCESS_KEY_ID {AWS_ACCESS_KEY_ID} \
                      --AWS_SECRET_ACCESS_KEY {AWS_SECRET_ACCESS_KEY} \
                      --AWS_SESSION_TOKEN {AWS_SESSION_TOKEN} \
                      --AWS_DEFAULT_REGION {AWS_DEFAULT_REGION} \
                      --bucket_name {bucket_name} \
                      --bucket_prefix {bucket_prefix}  \
                      --dataset_path {dataset_path}